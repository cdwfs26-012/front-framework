<div class="bg-black py-8 px-4">
  <div class="flex overflow-x-auto pb-6 gap-6 no-scrollbar scroll-smooth">
    <button
      (click)="selectCategory(undefined)"
      [class.border-orange-500]="selectedCategoryId() === undefined"
      class="flex-none group flex flex-col items-center gap-4 bg-neutral-900/50 border border-neutral-800 p-5 rounded-[2rem] hover:border-orange-500 transition-all min-w-[130px]">
      <div class="w-20 h-20 rounded-2xl overflow-hidden bg-black flex items-center justify-center border border-neutral-800 group-hover:border-orange-500/50">
        <img src="data/categories/placeholder.png" class="w-full h-full object-cover">
      </div>
      <span class="text-xs font-bold text-neutral-200 uppercase tracking-widest">Tous</span>
    </button>

    @for (cat of categoriesService.categories(); track cat.id) {
      <button
        (click)="selectCategory(cat.id)"
        [class.border-orange-500]="selectedCategoryId() === cat.id"
        class="flex-none group flex flex-col items-center gap-4 bg-neutral-900/50 border border-neutral-800 p-5 rounded-[2rem] hover:border-orange-500 transition-all min-w-[130px]">
        <div class="w-20 h-20 rounded-2xl overflow-hidden bg-black flex items-center justify-center border border-neutral-800">
          <img [src]="'data/categories/' + cat.id + '.png'"
               #imgElement (error)="imgElement.src = 'data/categories/placeholder.png'"
               class="w-full h-full object-cover">
        </div>
        <span class="text-xs font-bold text-neutral-200 uppercase tracking-widest">{{ cat.titre }}</span>
      </button>
    }
  </div>

  <div class="max-w-7xl mx-auto px-4 mt-12 mb-8">
    <h2 class="text-3xl md:text-5xl font-black text-white uppercase italic tracking-tighter">
      Tous nos <span class="text-orange-500">{{ displayTitle() }}</span>
    </h2>
    <div class="h-1 w-20 bg-orange-500 mt-4 rounded-full"></div>
  </div>

  <app-products [categoryId]="selectedCategoryId()"></app-products>
</div>
